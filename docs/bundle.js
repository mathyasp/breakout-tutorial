(()=>{"use strict";const t=function(){function t(t,i,o,e,s){void 0===t&&(t=0),void 0===i&&(i=0),void 0===o&&(o=100),void 0===e&&(e=100),void 0===s&&(s="#f00"),this.x=t,this.y=i,this.width=o,this.height=e,this.color=s}return t.prototype.render=function(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()},t}();var i,o=(i=function(t,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},i(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});const e=function(t){function i(i,o,e,s,r){void 0===e&&(e=75),void 0===s&&(s=20),void 0===r&&(r="#0095DD");var n=t.call(this,i,o,e,s,r)||this;return n.status=!0,n}return o(i,t),i}(t);var s=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const r=function(t){function i(i,o,e,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===e&&(e=10),void 0===s&&(s="red");var r=t.call(this,i,o,0,0,s)||this;return r.radius=e,r.dx=2,r.dy=-2,r}return s(i,t),i.prototype.render=function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()},i.prototype.move=function(){this.x+=this.dx,this.y+=this.dy},i}(t);var n=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const h=function(t){function i(i,o,e,s,r){return void 0===e&&(e=75),void 0===s&&(s=10),void 0===r&&(r="#0095DD"),t.call(this,i,o,e,s,r)||this}return n(i,t),i}(t);var l=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const c=function(t){function i(i,o,e,s,r){void 0===e&&(e="#0095DD"),void 0===s&&(s=0),void 0===r&&(r="16px Arial");var n=t.call(this,i,o,0,0,e)||this;return n.score=s,n.font=r,n}return l(i,t),i.prototype.render=function(t){t.font=this.font,t.fillStyle=this.color,t.fillText("Score: ".concat(this.score),this.x,this.y)},i.prototype.update=function(t){this.score+=t},i.prototype.reset=function(){this.score=0},i}(t);var a=function(){var t=function(i,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},t(i,o)};return function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=i}t(i,o),i.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const d=function(t){function i(i,o,e,s,r){void 0===e&&(e="#0095DD"),void 0===s&&(s=3),void 0===r&&(r="16px Arial");var n=t.call(this,i,o,0,0,e)||this;return n.lives=s,n.font=r,n}return a(i,t),i.prototype.render=function(t){t.font="16px Arial",t.fillStyle="#0095DD",t.fillText("Lives: ".concat(this.lives),this.x,this.y)},i.prototype.loseLife=function(){this.lives-=1},i.prototype.reset=function(){this.lives=3},i}(t);new(function(){function t(t){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.ball=new r(this.width/2,this.height-30),this.score=new c(8,20),this.lives=new d(this.width-65,20),this.paddle=new h((this.width-75)/2,this.height-10),this.rightPressed=!1,this.leftPressed=!1,this.brickRowCount=4,this.brickColumnCount=10,this.brickWidth=0,this.smallBrickWidth=30,this.bigBrickWidth=75,this.brickHeight=20,this.brickPadding=15,this.brickOffsetTop=30,this.brickOffsetLeft=22.5,this.bricks=[];for(var i=0;i<this.brickColumnCount;i+=1){this.bricks[i]=[];for(var o=0;o<this.brickRowCount;o+=1)this.bricks[i][o]=new e(0,0)}this.smallBrickColors=["#0000FF","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#8B00FF","#FF1493","#00FFFF","#00FF00"],this.bigBrickColors=["#0000FF","#FFFF00","#0000FF","#8B00FF","#00FFFF"],this.draw=this.draw.bind(this)}return t.prototype.drawBricks=function(){for(var t,i=0;i<this.brickRowCount;i+=1)for(var o=i%2==0?10:5,e=0;e<o;e+=1)!0===this.bricks[e][i].status&&(i%2==0?(this.brickWidth=this.smallBrickWidth,t=this.smallBrickColors):(this.brickWidth=this.bigBrickWidth,t=this.bigBrickColors),this.bricks[e][i].x=e*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,this.bricks[e][i].y=i*(this.brickHeight+this.brickPadding)+this.brickOffsetTop,this.bricks[e][i].width=this.brickWidth,this.bricks[e][i].height=this.brickHeight,this.bricks[e][i].color=t[e],this.bricks[e][i].render(this.ctx))},t.prototype.keyDownHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!0)},t.prototype.keyUpHandler=function(t){"Right"===t.key||"ArrowRight"===t.key?this.rightPressed=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.leftPressed=!1)},t.prototype.mouseMoveHandler=function(t){var i=t.clientX-this.canvas.offsetLeft;i>0&&i<this.width&&(this.paddle.x=i-this.paddle.width/2)},t.prototype.listeners=function(){this.keyDownHandler=this.keyDownHandler.bind(this),this.keyUpHandler=this.keyUpHandler.bind(this),this.mouseMoveHandler=this.mouseMoveHandler.bind(this),document.addEventListener("keydown",this.keyDownHandler,!1),document.addEventListener("keyup",this.keyUpHandler,!1),document.addEventListener("mousemove",this.mouseMoveHandler,!1)},t.prototype.playAgain=function(t){var i=document.createElement("div");i.style.position="absolute",i.style.top="0",i.style.left="".concat(this.canvas.offsetLeft,"px"),i.style.width="".concat(this.width,"px"),i.style.height="".concat(this.height,"px"),i.style.backgroundColor="white",i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center";var o='\n      <div style="background-color: white; padding: 20px;">\n        <h2>'.concat("win"===t?"Congratulations! You won!":"Game over!",'</h2>\n        <p>Do you want to play again?</p>\n        <button onclick="window.location.reload()">Yes</button>\n        <button onclick="alert(\'Thank you for playing!\')">No</button>\n      </div>\n    ');i.innerHTML=o,document.body.appendChild(i)},t.prototype.collisionDetection=function(){for(var t=0;t<this.brickColumnCount;t+=1)for(var i=0;i<this.brickRowCount;i+=1){var o=this.bricks[t][i];!0===o.status&&this.ball.x>o.x&&this.ball.x<o.x+o.width&&this.ball.y>o.y&&this.ball.y<o.y+o.height&&(this.ball.dy*=-1,o.status=!1,this.score.update(1),this.score.score===this.brickRowCount*this.brickColumnCount&&this.playAgain("win"))}},t.prototype.draw=function(){this.listeners(),this.ctx.clearRect(0,0,this.width,this.height),this.drawBricks(),this.ball.render(this.ctx),this.paddle.render(this.ctx),this.score.render(this.ctx),this.lives.render(this.ctx),this.collisionDetection(),(this.ball.x+this.ball.dx>this.width-this.ball.radius||this.ball.x+this.ball.dx<this.ball.radius)&&(this.ball.dx*=-1),this.ball.y+this.ball.dy<this.ball.radius?this.ball.dy*=-1:this.ball.y+this.ball.dy>this.height-this.ball.radius&&(this.ball.x>this.paddle.x&&this.ball.x<this.paddle.x+this.paddle.width?this.ball.dy*=-1:(this.lives.loseLife(),0===this.lives.lives?this.playAgain("lose"):(this.ball.x=this.width/2,this.ball.y=this.height-30,this.ball.dx=2,this.ball.dy=-2,this.paddle.x=(this.width-this.paddle.width)/2))),this.rightPressed&&this.paddle.x<this.width-this.paddle.width?this.paddle.x+=7:this.leftPressed&&this.paddle.x>0&&(this.paddle.x-=7),this.ball.x+=this.ball.dx,this.ball.y+=this.ball.dy,requestAnimationFrame(this.draw)},t}())(document.getElementById("myCanvas")).draw()})();